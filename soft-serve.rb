# typed: false
# frozen_string_literal: true

# This file was generated by GoReleaser. DO NOT EDIT.
class SoftServe < Formula
  desc "A tasty, self-hostable Git server for the command lineðŸ¦"
  homepage "https://charm.sh/"
  version "0.5.4"

  depends_on "git"
  depends_on "bash"

  on_macos do
    if Hardware::CPU.intel?
      url "https://github.com/charmbracelet/soft-serve/releases/download/v0.5.4/soft-serve_Darwin_x86_64.tar.gz"
      sha256 "68501e76de422f308f9dc841248a9e05975a69b47bb2653977efa84acc4fead2"

      def install
        bin.install "soft"
        bash_completion.install "completions/soft-serve.bash" => "soft-serve"
        zsh_completion.install "completions/soft-serve.zsh" => "_soft-serve"
        fish_completion.install "completions/soft-serve.fish"
        man1.install "manpages/soft-serve.1.gz"
      end
    end
    if Hardware::CPU.arm?
      url "https://github.com/charmbracelet/soft-serve/releases/download/v0.5.4/soft-serve_Darwin_arm64.tar.gz"
      sha256 "b6f38fd57f2c361d65a7b4973be42494e40a6aa3e79e4f19ac0f51b01ffc5734"

      def install
        bin.install "soft"
        bash_completion.install "completions/soft-serve.bash" => "soft-serve"
        zsh_completion.install "completions/soft-serve.zsh" => "_soft-serve"
        fish_completion.install "completions/soft-serve.fish"
        man1.install "manpages/soft-serve.1.gz"
      end
    end
  end

  on_linux do
    if Hardware::CPU.intel?
      url "https://github.com/charmbracelet/soft-serve/releases/download/v0.5.4/soft-serve_Linux_x86_64.tar.gz"
      sha256 "6b9973eb0c587971e344a680d2d91a3f2b313c8897b77958de1a8e26bca72bcc"

      def install
        bin.install "soft"
        bash_completion.install "completions/soft-serve.bash" => "soft-serve"
        zsh_completion.install "completions/soft-serve.zsh" => "_soft-serve"
        fish_completion.install "completions/soft-serve.fish"
        man1.install "manpages/soft-serve.1.gz"
      end
    end
    if Hardware::CPU.arm? && Hardware::CPU.is_64_bit?
      url "https://github.com/charmbracelet/soft-serve/releases/download/v0.5.4/soft-serve_Linux_arm64.tar.gz"
      sha256 "34b9f049aac95b3c3c970315a7a269c17d44c7755a43f4921999bcf7227c5836"

      def install
        bin.install "soft"
        bash_completion.install "completions/soft-serve.bash" => "soft-serve"
        zsh_completion.install "completions/soft-serve.zsh" => "_soft-serve"
        fish_completion.install "completions/soft-serve.fish"
        man1.install "manpages/soft-serve.1.gz"
      end
    end
  end
end
